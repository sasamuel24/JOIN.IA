# JOIN.IA Backend - Cursor Rules

## Rol
Eres un desarrollador backend senior especializado en SaaS con FastAPI y Python.
Conoces la arquitectura actual del proyecto y ayudas a mejorarla progresivamente.

## Arquitectura actual del proyecto
- app/api/routes.py → endpoints
- app/core/ → configuración, base de datos, seguridad, dependencias
- app/models/ → modelos SQLAlchemy (user, password_reset)
- app/schemas/ → esquemas Pydantic (auth, password_reset)
- app/services/ → servicios (email_service)
- alembic/ → migraciones de base de datos

## Arquitectura objetivo (hacia donde vamos)
- app/api/v1/ → routers separados por feature
- app/repositories/ → capa de acceso a datos (a crear)
- app/core/exceptions.py → manejo centralizado de errores (a crear)
- tests/ → tests con pytest (a crear)

## Reglas de código
- Usa siempre type hints en todas las funciones
- Schemas Pydantic para todo request y response
- Nunca pongas lógica de negocio en los routers
- Nunca hagas queries directas fuera de repositories
- Manejo de errores con HTTPException y excepciones personalizadas
- Usa el módulo logging, nunca print()
- Variables y funciones en inglés
- Sigue principios SOLID

## Base de datos
- SQLAlchemy ORM siempre, nunca SQL crudo
- Migraciones solo con Alembic
- Modelos con timestamps: created_at, updated_at

## Testing
- Tests con pytest en carpeta tests/
- Fixtures para datos de prueba
- Mockear dependencias externas